<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercice</title>
  </head>
  <style>
    table,
    th,
    td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th,
    td {
      padding: 5px;
    }
  </style>
  <body>
    <h1>
      Rechercher un dépôt dans votre ville
    </h1>

    <br /><br />
    <p id="showCity"></p>
    <table id="demo"></table>

    <script>
      //Notre requête AJAX
      const xhttp = new XMLHttpRequest();
      let city;
      xhttp.onload = function() {
        const xmlDoc = xhttp.responseXML;
        city = xmlDoc.getElementsByTagName("CITY");
        loadCity();
      };
      xhttp.open("GET", "city.xml");
      xhttp.send();

//Notre fonction pour analyser notre XML et afficher sous forme de tableau
function loadCity() {
        let table = "<tr><th>Ville</th><th>Code postal</th></tr>";
        for (let i = 0; i < city.length; i++) {
          table += "<tr onclick='displayCity(" + i + ")'><td>";
          table += city[i].getElementsByTagName("NAME")[0].childNodes[0]
            .nodeValue;
          table += "</td><td>";
          table += city[i].getElementsByTagName("ZIP")[0].childNodes[0]
            .nodeValue;
          table += "</td></tr>";
        }
        document.getElementById("demo").innerHTML = table;
      }
    </script>
</body>
</html>